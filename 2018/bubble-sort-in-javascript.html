<!doctype html>
<html lang="ja">
<head>
  <title>Bubble Sort in JavaScript | メモログ</title>
    <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://www.google-analytics.com">
  <link rel="shortcut icon" href="/assets/icons/icon-32.ico">
  <style>body {
  background-color: white;
  color: black;
  font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue",
    "Hiragino Kaku Gothic Pro", YuGothic, "Yu Gothic", Meiryo, sans-serif;
  margin: 0;
  padding: 0;
}

.header {
  margin: 0 auto;
  font-family: Garamond, "Times New Roman", serif;
}

.header_component_global {
  text-align: center;
  margin: 1em auto;
  max-width: 700px;
}

.header__title {
  margin: 0.2em 0 0.2em;
  font-size: 1.8em;
  font-weight: normal;
  vertical-align: bottom;
}

.header__title a,
.header__title > span {
  color: black;
  text-decoration: none;
  display: inline-block;
  background-color: #f5f2f0;
  padding: 5px;
}

.header_component_global .header__title {
  font-size: 1.2em;
}

.header_component_global .header__title a {
  text-decoration: none;
  color: black;
}

.main .header .header__title {
  position: sticky;
  top: 0;
  z-index: 100;
  opacity: 0.8;
  margin-bottom: 0;
}

.header__description {
  margin-top: 0;
  margin-bottom: 1em;
}

.header_component_global .header__description {
  color: #666;
  margin: 0 auto;
  padding: 0 5px;
}

.header__epigraph {
  font-style: italic;
  color: #666;
  margin: 0 auto;
  padding: 5px;
}

.container {
  width: 700px;
  margin: 0 auto 4em;
  padding: 0 15px;
  border-radius: 3px;
}

.content {
  font-size: 1.125em;
  line-height: 2em;
  background: white;
  color: #222;
  -webkit-font-smoothing: antialiased;
}

.content h2,
.content h3 {
  font-size: 1.4em;
  margin: 2em 0 1em 0;
  border-bottom: 1px solid #ddd;
}

.article-summary {
  margin-bottom: 3.5em;
}

.header time {
  display: inline-block;
  font-size: 0.9125em;
  color: #666;
}

.calendar-icon,
.author-icon {
  margin-right: 0.5em;
}

.content blockquote {
  border: 5px solid #ddd;
  background: #f9f9f9;
  margin: 1.5em 0;
  padding: 0 1em;
}

.content p > code,
.content li > code {
  background-color: #f5f2f0;
  display: inline-block;
  padding: 0 6px;
  border-radius: 0.3em;
  color: #444;
}

.content table {
  background: #e0e0e0;
}

.content th {
  background: #f0f0f0;
}

.content tr {
  background: #fff;
}

.content tr:nth-child(even) {
  background: #f0f0f0;
}

.content td {
  padding: 5px 1em;
  text-align: center;
}

.content code[class*="language-"] {
  color: #444;
}

.header__feature {
  margin: 0.5em 0 -0.5em;
  position: relative;
}

.header__feature img {
  overflow: hidden;
}

.featured__image {
  background: white;
  line-height: 0;
  max-height: 335px;
  overflow: hidden;
}

.featured__credit {
  color: #333;
  font-size: 0.825em;
  text-align: right;
  position: absolute;
  right: 0;
  bottom: 0;
  padding: 7px;
  background: #f0f0f0;
  opacity: 0.8;
}

.lazyload,
.lazyloading {
  opacity: 0.5;
}

.lazyloaded {
  opacity: 1;
  transition: opacity 2s 0.3s cubic-bezier(0.3, 0.18, 0.15, 1);
}

.content img {
  max-width: 100%;
}

.youtube-wrapper {
  position: relative;
  display: block;
  height: 0;
  padding: 0;
  overflow: hidden;
  padding-bottom: 56.25%;
}

.youtube-wrapper iframe {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  height: 100%;
  width: 100%;
  border: 0;
}

@media screen and (max-width: 500px) {
  .header__epigraph {
    display: none;
  }

  .header__title {
    font-size: 1.2em;
  }

  .content h2 {
    font-size: 1.2em;
  }

  .main .header .header__title {
    margin-bottom: 30px;
  }

  .header__feature {
    margin-top: -23px;
  }

  .featured__credit {
    margin-left: -15px;
    margin-right: -15px;
    position: relative;
  }
}

@media screen and (max-width: 700px) {
  .featured__image,
  .content__image,
  .content pre[class*="language-"],
  .youtube-wrapper {
    margin: 0 -15px;
  }
}

@media screen and (max-width: 700px) {
  .featured__image,
  .content__image,
  .content pre[class*="language-"] {
    margin: 0 -15px;
  }
}

/*
.content p a[href]::before {
  content: '🌐';
  width: 24px;
  display: inline-block;
}

.content p a[href].link-icon::before {
  content: '';
}

.content p a[href].no-link-icon::before {
  content: '';
  width: 0;
}

.content p a.link-icon {
  background-position-x: 4px;
  background-position-y: center;
  background-repeat: no-repeat;
}
*/

.post .writing-vertical {
  writing-mode: vertical-rl;
  font-family: serif;
  font-size: 1em;
  margin: 1.5em 0;
  column-count: 2;
  max-width: 700px;
  width: 102%;
  overflow: auto;
  height: 800px;
}

.post .writing-vertical p {
  margin: 0;
}

/*
.post .writing-vertical p a {
  padding-left: 0px;
  padding-top: 24px;
}
*/

.post .writing-vertical p:first-letter {
  margin-top: 1em;
}

.post .writing-vertical .link-icon {
  background-position-x: center;
  background-position-y: 5px;
}

.post .writing-vertical blockquote {
  border: none;
  margin: 0 0.5em;
  padding: 1em 0.5em;
  background: #f0f0f0;
}

@media screen and (max-width: 730px) {
  .container {
    width: 100%;
    box-sizing: border-box;
  }

  .post .writing-vertical {
    margin-left: 0;
    margin-right: 0;
    width: 100%;
  }

  .header__feature img {
    max-width: 100%;
    height: auto;
  }
}
</style>
  <script>window.lazyLoadOptions = {};</script>
  <link rel="preload" as="style" href="/css/global_async.css" onload="this.rel='stylesheet'">
  <link rel="alternate" href="http://feeds.feedburner.com/jp/memolog" title="Latest Articles" >
  <link rel="apple-touch-icon" href="/assets/icons/icon-192.png">
  <link rel="manifest" href="/manifest.json" >
  <meta name="theme-color" content="white">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-955153-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-955153-2');
  </script>
  <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@graph":
    [
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "url": "http://memolog.org",
        "logo": "https://memolog.org/assets/icons/icon-1024.png"
      },
      {
        "@context": "http://schema.org",
        "@type": "Person",
        "name": "Yutaka Yamaguchi",
        "url": "http://memolog.org",
        "sameAs": [
          "https://www.facebook.com/yutaka.yamaguchi",
          "https://www.linkedin.com/in/yutakayamaguchi/",
          "https://twitter.com/memolog"
        ]
      }
    ]
  }
  </script>

  <meta name="description" content="Array.prototype.sort についてとTypedArray.prototype.sort についてで書いたようにビルトインされているsortメソッドが効率的なソートを実行できるように実装されているので、JavaScript上で自前のソートを実装する意味はあまりないのだけど、試しにバブルソートをJavaScript上で作ってみた。">
<meta property="og:type" content="article">
<meta property="og:title" content="Bubble Sort in JavaScript">
<meta property="og:url" content="https://memolog.org/2018/bubble-sort-in-javascript.html">
<meta property="og:site_name" content="メモログ">
<meta property="og:description" content="Array.prototype.sort についてとTypedArray.prototype.sort についてで書いたようにビルトインされているsortメソッドが効率的なソートを実行できるように実装されているので、JavaScript上で自前のソートを実装する意味はあまりないのだけど、試しにバブルソートをJavaScript上で作ってみた。">
<meta property="og:locale" content="ja_JP">
<meta property="og:image" content="https://memolog.org/assets/images/jong-marshes-458354-unsplash/jong-marshes-458354-unsplash.jpg">
<meta property="article:published_time" content="2018-08-03T22:00:11.000Z">
<meta property="article:modified_time" content="2024-02-20T21:19:33.333Z">
<meta property="article:author" content="Yutaka Yamaguchi">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://memolog.org/assets/images/jong-marshes-458354-unsplash/jong-marshes-458354-unsplash.jpg">
<meta name="twitter:creator" content="@memolog">
<meta name="twitter:site" content="https://twitter.com/memolog">
<meta property="fb:app_id" content="168245123786587">
  <link rel="canonical" href="https://memolog.org/2018/bubble-sort-in-javascript.html">
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://memolog.org/2018/bubble-sort-in-javascript.html"
      },
      "headline": "Bubble Sort in JavaScript",
      
        "image": [
          "https://memolog.org/assets/images/jong-marshes-458354-unsplash/jong-marshes-458354-unsplash.jpg"
        ],
      
      "datePublished": "1533333611000",
      "dateModified": "1708463973333",
      "author": {
        "@type": "Person",
        "name": "Yutaka Yamaguchi"
      },
      "publisher": {
        "@type": "Organization",
        "name": "メモログ",
        "logo": {
          "@type": "ImageObject",
          "url": "https://memolog.org/assets/icons/icon-1024.png"
        }
      },
      "description": "Array.prototype.sort についてとTypedArray.prototype.sort についてで書いたようにビルトインされているsortメソッドが効率的なソートを実行できるように実装されているので、JavaScript上で自前のソートを実装する意味はあまりないのだけど、試しにバブルソートをJavaScript上で作ってみた。"
    }
  </script>
<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="メモログ" type="application/atom+xml">
</head>
<body class="post">
    <header class="header header_component_global">
    <div class="header__icon" aria-hidden="true"><img src="/assets/icons/icon.svg" role="presentation" width="48" height="48" alt="icon" loading="lazy"></div>
    <h1 class="header__title header__title"><a href="/">メモログ</a></h1>
    <p class="header__description">塵が積もって山とならないメモのログ</p>
    <nav class="navigation navigation-global">
      <a href="/" class="navigation__link">📘 最新のメモ</a>
    </nav>
  </header>

  <div class="container">
    <main class="main">
      <article>
        <header class="header">
          <div>
            <time datetime="2018-08-03T22:00:11.000Z">
              <span class="calendar-icon">📅</span><span>2018年8月4日</span>
            </time>
          </div>
          <h2 class="header__title"><span>Bubble Sort in JavaScript</span></h2>
          
            <div class="header__feature" aria-hidden="true">
  <div class="featured__image">
    
      
        <div style="background-color: #26657a"><img src="/assets/images/jong-marshes-458354-unsplash/jong-marshes-458354-unsplash.svg" alt="" role="presentation" loading="lazy" width="700" height="525" /></div>
      
    
  </div>
  
    
      <div class="featured__credit">Original Photo by <a href="https://unsplash.com/photos/79mNMAvSORg?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank" rel="noopener" tabindex="-1">Jong Marshes</a> on <a href="https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank" rel="noopener" tabindex="-1">Unsplash</a></div>
    
    
    
  
</div>

          
        </header>
        <div id="article-content" class="content "><p><a href="https://memolog.org/2018/about-array-prototype-sort.html">Array.prototype.sort について</a>と<a href="https://memolog.org/2018/about-typedarray-prototype-sort.html">TypedArray.prototype.sort について</a>で書いたようにビルトインされているsortメソッドが効率的なソートを実行できるように実装されているので、JavaScript上で自前のソートを実装する意味はあまりないのだけど、試しにバブルソートをJavaScript上で作ってみた。<span id="more"></span></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Bubble_sort">バブルソート</a>は隣り合う値を比較して順序が異なる場合は順番を入れ替える（swap）、ということを繰り返し行う。swapする必要がなくなったらソート終了となる。実装は簡単だけど繰り返しの数が多く実行速度が遅いので実践で使われることはない。でも悪い例みたいのでよく登場する。</p>
<p>下の動画はバブルソートをハンガリアンフォークダンスで表現したもの。うける。開始50秒くらいはただ踊ってるだけである。左から進んで、隣り合う人同士で数値を比較して、大きい人が右側に移動していく。</p>
<div class="youtube-wrapper">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/lyZQPjUT5B4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen title="Bubble-sort with Hungarian (Csángó")"></iframe>
  </div>
<p>ポイントとしては、</p>
<ul>
<li>先頭から最後まですべての値を比較して、大きい数値を右に移動（swap）していく。</li>
<li>上記をswapする必要がなくなるまで上記を繰り返す。ただし比較した最後の値は（その中で一番大きな値なので）次の繰り返しでは比較しなくていい。</li>
<li>最後の値からswapしなかった箇所は大きな数値順に並んでいる状態なので、次の繰り返しでは比較しなくていい。</li>
</ul>
<blockquote>
<p><strong>Optimizing bubble sort</strong><br>
The bubble sort algorithm can be easily optimized by observing that the n-th pass finds the n-th largest element and puts it into its final place. So, the inner loop can avoid looking at the last n − 1 items when running for the n-th time:</p>
</blockquote>
<blockquote>
<p>More generally, it can happen that more than one element is placed in their final position on a single pass. In particular, after every pass, all elements after the last swap are sorted, and do not need to be checked again. This allows us to skip over a lot of the elements, resulting in about a worst case 50% improvement in comparison count (though no improvement in swap counts), and adds very little complexity because the new code subsumes the “swapped” variable:<br>
<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Bubble_sort">https://en.wikipedia.org/wiki/Bubble_sort</a></p>
</blockquote>
<p>実装例は<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Bubble_sort">バブルソート</a>のwikiや<a target="_blank" rel="noopener" href="http://blog.benoitvallon.com/sorting-algorithms-in-javascript/the-bubble-sort-algorithm/">The Bubble sort algorithm - Ben’s Blog</a>などにもあるけど、実装してみたコードは下記。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bubbleSortTest</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> arrayLength = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">const</span> array = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;arrayLength; i++) &#123;</span><br><span class="line">    array.<span class="title function_">push</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">10000</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(array);</span><br><span class="line">  <span class="title function_">bubbleSort</span>(array);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bubbleSort</span>(<span class="params">array</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> arrayLength = array.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> swapped;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i=arrayLength; i&gt;<span class="number">0</span>; i--) &#123;</span><br><span class="line">    swapped = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> ( <span class="keyword">let</span> j=<span class="number">1</span>; j&lt;i; j++ ) &#123;</span><br><span class="line">      <span class="keyword">const</span> a = array[j-<span class="number">1</span>];</span><br><span class="line">      <span class="keyword">const</span> b = array[j];</span><br><span class="line">      <span class="keyword">if</span> (a &gt; b) &#123;</span><br><span class="line">        array[j-<span class="number">1</span>] = b;</span><br><span class="line">        array[j] = a;</span><br><span class="line">        swapped = j;</span><br><span class="line">      &#125;</span><br><span class="line">      count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!swapped) &#123;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      i = swapped + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`number of iterates: <span class="subst">$&#123;count&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>実行例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="title function_">bubbleSortTest</span>()</span><br><span class="line">[ <span class="number">5839</span>, <span class="number">1225</span>, <span class="number">6856</span>, <span class="number">5969</span>, <span class="number">1429</span>, <span class="number">1063</span>, <span class="number">4480</span>, <span class="number">1099</span>, <span class="number">7652</span>, <span class="number">8717</span> ]</span><br><span class="line">[ <span class="number">1225</span>, <span class="number">5839</span>, <span class="number">5969</span>, <span class="number">1429</span>, <span class="number">1063</span>, <span class="number">4480</span>, <span class="number">1099</span>, <span class="number">6856</span>, <span class="number">7652</span>, <span class="number">8717</span> ]</span><br><span class="line">[ <span class="number">1225</span>, <span class="number">5839</span>, <span class="number">1429</span>, <span class="number">1063</span>, <span class="number">4480</span>, <span class="number">1099</span>, <span class="number">5969</span>, <span class="number">6856</span>, <span class="number">7652</span>, <span class="number">8717</span> ]</span><br><span class="line">[ <span class="number">1225</span>, <span class="number">1429</span>, <span class="number">1063</span>, <span class="number">4480</span>, <span class="number">1099</span>, <span class="number">5839</span>, <span class="number">5969</span>, <span class="number">6856</span>, <span class="number">7652</span>, <span class="number">8717</span> ]</span><br><span class="line">[ <span class="number">1225</span>, <span class="number">1063</span>, <span class="number">1429</span>, <span class="number">1099</span>, <span class="number">4480</span>, <span class="number">5839</span>, <span class="number">5969</span>, <span class="number">6856</span>, <span class="number">7652</span>, <span class="number">8717</span> ]</span><br><span class="line">[ <span class="number">1063</span>, <span class="number">1225</span>, <span class="number">1099</span>, <span class="number">1429</span>, <span class="number">4480</span>, <span class="number">5839</span>, <span class="number">5969</span>, <span class="number">6856</span>, <span class="number">7652</span>, <span class="number">8717</span> ]</span><br><span class="line">[ <span class="number">1063</span>, <span class="number">1099</span>, <span class="number">1225</span>, <span class="number">1429</span>, <span class="number">4480</span>, <span class="number">5839</span>, <span class="number">5969</span>, <span class="number">6856</span>, <span class="number">7652</span>, <span class="number">8717</span> ]</span><br><span class="line">number <span class="keyword">of</span> <span class="attr">iterates</span>: <span class="number">30</span></span><br><span class="line"></span><br><span class="line">&gt; <span class="title function_">bubbleSortTest</span>()</span><br><span class="line">[ <span class="number">1031</span>, <span class="number">5942</span>, <span class="number">4589</span>, <span class="number">9940</span>, <span class="number">709</span>, <span class="number">8621</span>, <span class="number">4132</span>, <span class="number">3874</span>, <span class="number">5777</span>, <span class="number">7329</span> ]</span><br><span class="line">[ <span class="number">1031</span>, <span class="number">4589</span>, <span class="number">5942</span>, <span class="number">709</span>, <span class="number">8621</span>, <span class="number">4132</span>, <span class="number">3874</span>, <span class="number">5777</span>, <span class="number">7329</span>, <span class="number">9940</span> ]</span><br><span class="line">[ <span class="number">1031</span>, <span class="number">4589</span>, <span class="number">709</span>, <span class="number">5942</span>, <span class="number">4132</span>, <span class="number">3874</span>, <span class="number">5777</span>, <span class="number">7329</span>, <span class="number">8621</span>, <span class="number">9940</span> ]</span><br><span class="line">[ <span class="number">1031</span>, <span class="number">709</span>, <span class="number">4589</span>, <span class="number">4132</span>, <span class="number">3874</span>, <span class="number">5777</span>, <span class="number">5942</span>, <span class="number">7329</span>, <span class="number">8621</span>, <span class="number">9940</span> ]</span><br><span class="line">[ <span class="number">709</span>, <span class="number">1031</span>, <span class="number">4132</span>, <span class="number">3874</span>, <span class="number">4589</span>, <span class="number">5777</span>, <span class="number">5942</span>, <span class="number">7329</span>, <span class="number">8621</span>, <span class="number">9940</span> ]</span><br><span class="line">[ <span class="number">709</span>, <span class="number">1031</span>, <span class="number">3874</span>, <span class="number">4132</span>, <span class="number">4589</span>, <span class="number">5777</span>, <span class="number">5942</span>, <span class="number">7329</span>, <span class="number">8621</span>, <span class="number">9940</span> ]</span><br><span class="line">number <span class="keyword">of</span> <span class="attr">iterates</span>: <span class="number">34</span></span><br><span class="line"></span><br><span class="line">&gt; <span class="title function_">bubbleSortTest</span>()</span><br><span class="line">[ <span class="number">8733</span>, <span class="number">1776</span>, <span class="number">7538</span>, <span class="number">9281</span>, <span class="number">9712</span>, <span class="number">9931</span>, <span class="number">9236</span>, <span class="number">1486</span>, <span class="number">8151</span>, <span class="number">612</span> ]</span><br><span class="line">[ <span class="number">1776</span>, <span class="number">7538</span>, <span class="number">8733</span>, <span class="number">9281</span>, <span class="number">9712</span>, <span class="number">9236</span>, <span class="number">1486</span>, <span class="number">8151</span>, <span class="number">612</span>, <span class="number">9931</span> ]</span><br><span class="line">[ <span class="number">1776</span>, <span class="number">7538</span>, <span class="number">8733</span>, <span class="number">9281</span>, <span class="number">9236</span>, <span class="number">1486</span>, <span class="number">8151</span>, <span class="number">612</span>, <span class="number">9712</span>, <span class="number">9931</span> ]</span><br><span class="line">[ <span class="number">1776</span>, <span class="number">7538</span>, <span class="number">8733</span>, <span class="number">9236</span>, <span class="number">1486</span>, <span class="number">8151</span>, <span class="number">612</span>, <span class="number">9281</span>, <span class="number">9712</span>, <span class="number">9931</span> ]</span><br><span class="line">[ <span class="number">1776</span>, <span class="number">7538</span>, <span class="number">8733</span>, <span class="number">1486</span>, <span class="number">8151</span>, <span class="number">612</span>, <span class="number">9236</span>, <span class="number">9281</span>, <span class="number">9712</span>, <span class="number">9931</span> ]</span><br><span class="line">[ <span class="number">1776</span>, <span class="number">7538</span>, <span class="number">1486</span>, <span class="number">8151</span>, <span class="number">612</span>, <span class="number">8733</span>, <span class="number">9236</span>, <span class="number">9281</span>, <span class="number">9712</span>, <span class="number">9931</span> ]</span><br><span class="line">[ <span class="number">1776</span>, <span class="number">1486</span>, <span class="number">7538</span>, <span class="number">612</span>, <span class="number">8151</span>, <span class="number">8733</span>, <span class="number">9236</span>, <span class="number">9281</span>, <span class="number">9712</span>, <span class="number">9931</span> ]</span><br><span class="line">[ <span class="number">1486</span>, <span class="number">1776</span>, <span class="number">612</span>, <span class="number">7538</span>, <span class="number">8151</span>, <span class="number">8733</span>, <span class="number">9236</span>, <span class="number">9281</span>, <span class="number">9712</span>, <span class="number">9931</span> ]</span><br><span class="line">[ <span class="number">1486</span>, <span class="number">612</span>, <span class="number">1776</span>, <span class="number">7538</span>, <span class="number">8151</span>, <span class="number">8733</span>, <span class="number">9236</span>, <span class="number">9281</span>, <span class="number">9712</span>, <span class="number">9931</span> ]</span><br><span class="line">[ <span class="number">612</span>, <span class="number">1486</span>, <span class="number">1776</span>, <span class="number">7538</span>, <span class="number">8151</span>, <span class="number">8733</span>, <span class="number">9236</span>, <span class="number">9281</span>, <span class="number">9712</span>, <span class="number">9931</span> ]</span><br><span class="line">number <span class="keyword">of</span> <span class="attr">iterates</span>: <span class="number">45</span></span><br></pre></td></tr></table></figure>
<p>バブルソートでは、大きな数値はどんどんswapされるので配列の最後に移動していくのは早く移動できるけど、小さな数値が配列の最初の方に移動するのは、一回の繰り返しで一つずつしか移動できないので遅い。動きの遅い小さな数値を「ウサギとカメ」になぞらえて、カメ（turtles）と呼んでいる。このカメを効率的になくしていくことでバブルソートの効率を改善することができる。</p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cocktail_shaker_sort">Cacktail shaker sort（シェーカーソート）</a>では、最初から最後に向かって大きい数値を右に移動させた後に、反対方向（最後から最初）に向かって小さい数値を左に移動させる。これだと小さな数値が配列の最後にあった場合でも、効率的に移動させることができる。</p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Comb_sort">Comb sort（コムソート）</a>では、隣り合う数値ではなく間隔を空けた2つの数値を比較して、それらをswapさせる。これも小さな数値が配列の最後の方にあった場合に通常のバブルソートよりも早く移動させることができる。</p>
<blockquote>
<p><strong>Rabbits and turtles</strong><br>
The distance and direction that elements must move during the sort determine bubble sort’s performance because elements move in different directions at different speeds. An element that must move toward the end of the list can move quickly because it can take part in successive swaps. For example, the largest element in the list will win every swap, so it moves to its sorted position on the first pass even if it starts near the beginning. On the other hand, an element that must move toward the beginning of the list cannot move faster than one step per pass, so elements move toward the beginning very slowly. If the smallest element is at the end of the list, it will take n−1 passes to move it to the beginning. This has led to these types of elements being named rabbits and turtles, respectively, after the characters in Aesop’s fable of The Tortoise and the Hare.<br>
<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Bubble_sort#Rabbits_and_turtles">https://en.wikipedia.org/wiki/Bubble_sort#Rabbits_and_turtles</a></p>
</blockquote>
<p>以上。</p>
</div>
        <footer class="profile">
  <div class="profile-inner">
    <div class="profile__image"><img src="/assets/icons/icon.svg" role="presentation" width="48" height="48" alt="icon"></div>
    <h2 class="profile__heading">私について</h2>
    <div class="profile__content">
      <div>Yutaka Yamaguchi</div>
      <div>東京在住。TypeScript, Node.js, Reactなどフロンエンドが主力。Perlも書く。SwiftやRubyも過去には使ってた。万年英語勉強中</div>
      <ul class="profile__social-list">
        <li class="profile__social-list-item"><a target="_blank" rel="noopener" href="https://twitter.com/memolog">Twitter</a></li>
        <li class="profile__social-list-item"><a target="_blank" rel="noopener" href="https://www.linkedin.com/in/yutakayamaguchi/">LinkedIn</a></li>
        <li class="profile__social-list-item"><a target="_blank" rel="noopener" href="https://www.facebook.com/yutaka.yamaguchi">Facebook</a></li>
      </ul>
    </div>
  </div>
</footer>

      </article>
    </main>
  </div>
  <script>
  // http://css-tricks.com/favicons-next-to-external-links/
  (function (){
    'use strict';
    if (/googlebot/i.test(navigator.userAgent)) {
      return;
    }
    window.addEventListener("DOMContentLoaded", () => {
      const links = document.querySelectorAll('.content p a');
      const linkLength = links && links.length || 0;
      for (var i=0; i<linkLength; i++){
        const link = links[i];
        const hostname = link.hostname;
        if (hostname) {
          const children = link.children || [];
          const firstChild = children && children[0];
          if (firstChild && firstChild.tagName === 'IMG') {
            // For old amazon image link
            if (link.hostname === 'www.amazon.co.jp') {
              link.style.float = 'left';
              link.style.marginRight = '1em';
              link.style.paddingLeft = '0';
            }
            // link.classList.add('no-link-icon');
            continue;
          }

          // link.classList.add('link-icon');
          // link.style.backgroundImage = `url(https://www.google.com/s2/favicons?domain=${hostname})`;
        }
      }
    });
  })();
</script>
<script>
  if ('serviceWorker' in navigator) {
    // navigator.serviceWorker.register('/service-worker.js');
  }
</script>

</body>
</html>
